@page
@using MacroFit.Models
@model MacroFit.Pages.Foods.IndexModel
@{
    ViewData["Title"] = "Food Diary";
}
<h1>Food Diary</h1>


<div class="row">
    <div class="col-md-3">
        <div class="progress-circle">
            <div class="progress">
                <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <span class="progress-text"></span>
        </div>
        <div class="goal-label">Calories</div>
    </div>
    <div class="col-md-3">
        <div class="progress-circle">
            <div class="progress">
                <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <span class="progress-text"></span>
        </div>
        <div class="goal-label">Carbohydrates</div>
    </div>
    <div class="col-md-3">
        <div class="progress-circle">
            <div class="progress">
                <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <span class="progress-text"></span>
        </div>
        <div class="goal-label">Fat</div>
    </div>
    <div class="col-md-3">
        <div class="progress-circle">
            <div class="progress">
                <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <span class="progress-text"></span>
        </div>
        <div class="goal-label">Protein</div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<style>
    .progress-circle {
        position: relative;
        width: 120px;
        height: 120px;
        margin: 0 auto;
    }

        .progress-circle .progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

    .progress-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .goal-label {
        text-align: center;
        margin-top: 20px;
    }

</style>

<script>

    // Get the completion percentage for each goal
    var caloriesPercentage = @(Model.MacronutrientData.Sum(b => b.Calories) / Model.User.UserSettings.CalorieGoal) * 100;
    var carbohydratesPercentage = @(Model.MacronutrientData.Sum(b => b.Carbohydrates) / Model.GramsConverter(Model.User.UserSettings.CarbohydratesPercentage, 4)) * 100;
    var fatPercentage = @(Model.MacronutrientData.Sum(b => b.Fat) / Model.GramsConverter(Model.User.UserSettings.FatPercentage, 9)) * 100;
    var proteinPercentage = @(Model.MacronutrientData.Sum(b => b.Protein) / Model.GramsConverter(Model.User.UserSettings.ProteinPercentage, 4)) * 100;

    // Set the progress bar value and text for each goal
    $('.progress-bar[aria-valuemax="100"]').each(function () {
        var progress = $(this);
        var percentage = progress.attr('aria-valuenow');

        // Set progress bar color based on percentage
        if (percentage >= 100) {
            progress.removeClass('progress-bar-striped').addClass('bg-success');
        } else if (percentage >= 75) {
            progress.removeClass('progress-bar-striped').addClass('bg-info');
        } else if (percentage >= 50) {
            progress.removeClass('progress-bar-striped').addClass('bg-warning');
        } else {
            progress.removeClass('progress-bar-striped').addClass('bg-danger');
        }

        // Set progress bar value
        if (progress.parent().parent().find('.goal-label').text() === 'Calories') {
            progress.css('width', caloriesPercentage + '%').attr('aria-valuenow', caloriesPercentage);
        } else if (progress.parent().parent().find('.goal-label').text() === 'Carbohydrates') {
            progress.css('width', carbohydratesPercentage + '%').attr('aria-valuenow', carbohydratesPercentage);
        } else if (progress.parent().parent().find('.goal-label').text() === 'Fat') {
            progress.css('width', fatPercentage + '%').attr('aria-valuenow', fatPercentage);
        } else if (progress.parent().parent().find('.goal-label').text() === 'Protein') {
            progress.css('width', proteinPercentage + '%').attr('aria-valuenow', proteinPercentage);
        }

        // Set progress bar text
        progress.parent().parent().find('.progress-text').text(percentage + '%');
    });

</script>


<p>
    <a asp-page="Create">Create New</a>
</p>
<div class="card">
    <form method="get">
        <input type="date" name="date" class="form-control" value="@Model.LogDateTime.ToString("yyyy-MM-dd")" onchange="this.form.submit()">
    </form>
<p>
        @Model.MacronutrientData.Sum(b => b.Calories).ToString("0.##")kcal out of @Model.User.UserSettings.CalorieGoal.ToString("0.##"),
        Carbohydrates: @Model.MacronutrientData.Sum(b => b.Carbohydrates).ToString("0.##")g out of @Model.GramsConverter(@Model.User.UserSettings.CarbohydratesPercentage, 4).ToString("0.##"),
    Fat: @Model.MacronutrientData.Sum(b => b.Fat).ToString("0.##")g out of @Model.GramsConverter(@Model.User.UserSettings.FatPercentage, 9).ToString("0.##"),
    Protein: @Model.MacronutrientData.Sum(b => b.Protein).ToString("0.##")g out of @Model.GramsConverter(@Model.User.UserSettings.ProteinPercentage, 4).ToString("0.##")
</p>
</div>


<div class="card">
<table class="table" style="margin-bottom: -4px;">
        <thead>
            <tr>
                <th scope="col" colspan="4" class="d-flex justify-content-between">
                    <div>
                        Breakfast</br>
                        <p style="font-size: 0.75rem; margin: 0px; color:var(--text-primary-color);opacity: 0.75;margin-right: 55px;">
                            Calories: @Model.MacronutrientData.Where(m => m.MealType == MealType.Breakfast).Sum(m => m.Calories).ToString("0.##")kcal,
                            Carbohydrates: @Model.MacronutrientData.Where(m => m.MealType == MealType.Breakfast).Sum(m => m.Carbohydrates).ToString("0.##")g,
                            Fat: @Model.MacronutrientData.Where(m => m.MealType == MealType.Breakfast).Sum(m => m.Fat).ToString("0.##")g,
                            Protein: @Model.MacronutrientData.Where(m => m.MealType == MealType.Breakfast).Sum(m => m.Protein).ToString("0.##")g
                        </p>
                    </div>

                    <a class="btn btn-secondary dynamic-btn themed-btn" asp-page="/Log/Index" asp-route-MealType="breakfast" asp-route-Date="@Model.LogDateTime" style="width: 50px;height: 40px;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                            <path xmlns="http://www.w3.org/2000/svg" d="M240 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H176V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H240V80z" />
                        </svg>
                    </a>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.MacronutrientData.Where(m => m.MealType == MealType.Breakfast))
            {
                <tr>
                    <td>
                        <div class="row justify-content-between" style="padding: 0px 14px;">
                            <div class="col-auto">
                                <p class="truncate" style="margin-bottom: 0px;width:320px">@item.FoodName</p>
                                <span style="opacity:0.6">@item.Amount.ToString("0.##") @item.AmountSymbol</span>
                            </div>
                            <div class="col d-flex flex-row-reverse nutrition-box-row">
                                <div class="col nutrition-box-col">
                                    <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Edit" asp-route-id="@item.Id" style="width: 50px;height: 40px;margin-bottom: 11px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                            <path xmlns="http://www.w3.org/2000/svg" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z" />
                                        </svg>
                                    </a>
                                    <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Delete" asp-route-id="@item.Id" style="width: 50px;height: 40px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                            <path xmlns="http://www.w3.org/2000/svg" d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
                                        </svg>
                                    </a>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Protein.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Protein
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Fat.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Fat
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Carbohydrates.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Carbs
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Calories.ToString("0.#")
                                        kcal
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Calories
                                    </p>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
            <thead>
                <tr>
                    <th scope="col" colspan="4" class="d-flex justify-content-between">
                        <div>
                            Lunch</br>
                        <p style="font-size: 0.75rem; margin: 0px; color:var(--text-primary-color);opacity: 0.75;margin-right: 55px;">
                            Calories: @Model.MacronutrientData.Where(m => m.MealType == MealType.Lunch).Sum(m => m.Calories).ToString("0.##")kcal,
                            Carbohydrates: @Model.MacronutrientData.Where(m => m.MealType == MealType.Lunch).Sum(m => m.Carbohydrates).ToString("0.##")g,
                            Fat: @Model.MacronutrientData.Where(m => m.MealType == MealType.Lunch).Sum(m => m.Fat).ToString("0.##")g,
                            Protein: @Model.MacronutrientData.Where(m => m.MealType == MealType.Lunch).Sum(m => m.Protein).ToString("0.##")g
                        </p>
                        </div>

                        <a class="btn btn-secondary dynamic-btn themed-btn" asp-page="/Log/Index" asp-route-MealType="lunch" asp-route-Date="@Model.LogDateTime" style="width: 50px;height: 40px;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                <path xmlns="http://www.w3.org/2000/svg" d="M240 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H176V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H240V80z" />
                            </svg>
                        </a>
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.MacronutrientData.Where(m => m.MealType == MealType.Lunch))
                {
                    <tr>
                        <td>
                            <div class="row justify-content-between" style="padding: 0px 14px;">
                                <div class="col-auto">
                                    <p class="truncate" style="margin-bottom: 0px;width:320px">@item.FoodName</p>
                                    <span style="opacity:0.6">@item.Amount.ToString("0.##") @item.AmountSymbol</span>
                                </div>
                                <div class="col d-flex flex-row-reverse nutrition-box-row">
                                    <div class="col nutrition-box-col">
                                        <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Edit" asp-route-id="@item.Id" style="width: 50px;height: 40px;margin-bottom: 11px;">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                                <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                                <path xmlns="http://www.w3.org/2000/svg" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z" />
                                            </svg>
                                        </a>
                                        <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Delete" asp-route-id="@item.Id" style="width: 50px;height: 40px;">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                                <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                                <path xmlns="http://www.w3.org/2000/svg" d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
                                            </svg>
                                        </a>
                                    </div>
                                    <div class="d-flex align-items-start flex-column nutrition-box">
                                        <p class="text-center nutrition-box-text">
                                            @item.Protein.ToString("0.##")
                                            g
                                        </p>
                                        <p class="text-center nutrition-box-text-heading">
                                            Protein
                                        </p>
                                    </div>
                                    <div class="d-flex align-items-start flex-column nutrition-box">
                                        <p class="text-center nutrition-box-text">
                                            @item.Fat.ToString("0.##")
                                            g
                                        </p>
                                        <p class="text-center nutrition-box-text-heading">
                                            Fat
                                        </p>
                                    </div>
                                    <div class="d-flex align-items-start flex-column nutrition-box">
                                        <p class="text-center nutrition-box-text">
                                            @item.Carbohydrates.ToString("0.##")
                                            g
                                        </p>
                                        <p class="text-center nutrition-box-text-heading">
                                            Carbs
                                        </p>
                                    </div>
                                    <div class="d-flex align-items-start flex-column nutrition-box">
                                        <p class="text-center nutrition-box-text">
                                            @item.Calories.ToString("0.#")
                                            kcal
                                        </p>
                                        <p class="text-center nutrition-box-text-heading">
                                            Calories
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        <thead>
            <tr>
                <th scope="col" colspan="4" class="d-flex justify-content-between">
                    <div>
                        Dinner</br>
                        <p style="font-size: 0.75rem; margin: 0px; color:var(--text-primary-color);opacity: 0.75;margin-right: 55px;">
                            Calories: @Model.MacronutrientData.Where(m => m.MealType == MealType.Dinner).Sum(m => m.Calories).ToString("0.##")kcal,
                            Carbohydrates: @Model.MacronutrientData.Where(m => m.MealType == MealType.Dinner).Sum(m => m.Carbohydrates).ToString("0.##")g,
                            Fat: @Model.MacronutrientData.Where(m => m.MealType == MealType.Dinner).Sum(m => m.Fat).ToString("0.##")g,
                            Protein: @Model.MacronutrientData.Where(m => m.MealType == MealType.Dinner).Sum(m => m.Protein).ToString("0.##")g
                        </p>
                    </div>

                    <a class="btn btn-secondary dynamic-btn themed-btn" asp-page="/Log/Index" asp-route-MealType="dinner" asp-route-Date="@Model.LogDateTime" style="width: 50px;height: 40px;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                            <path xmlns="http://www.w3.org/2000/svg" d="M240 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H176V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H240V80z" />
                        </svg>
                    </a>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.MacronutrientData.Where(m => m.MealType == MealType.Dinner))
            {
                <tr>
                    <td>
                        <div class="row justify-content-between" style="padding: 0px 14px;">
                            <div class="col-auto">
                                <p class="truncate" style="margin-bottom: 0px;width:320px">@item.FoodName</p>
                                <span style="opacity:0.6">@item.Amount.ToString("0.##") @item.AmountSymbol</span>
                            </div>
                            <div class="col d-flex flex-row-reverse nutrition-box-row">
                                <div class="col nutrition-box-col">
                                    <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Edit" asp-route-id="@item.Id" style="width: 50px;height: 40px;margin-bottom: 11px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                            <path xmlns="http://www.w3.org/2000/svg" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z" />
                                        </svg>
                                    </a>
                                    <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Delete" asp-route-id="@item.Id" style="width: 50px;height: 40px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                            <path xmlns="http://www.w3.org/2000/svg" d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
                                        </svg>
                                    </a>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Protein.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Protein
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Fat.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Fat
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Carbohydrates.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Carbs
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Calories.ToString("0.#")
                                        kcal
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Calories
                                    </p>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
        <thead>
            <tr>
                <th scope="col" colspan="4" class="d-flex justify-content-between">
                    <div>
                        Snacks</br>
                        <p style="font-size: 0.75rem; margin: 0px; color:var(--text-primary-color);opacity: 0.75;margin-right: 55px;">
                            Calories: @Model.MacronutrientData.Where(m => m.MealType == MealType.Snack).Sum(m => m.Calories).ToString("0.##")kcal,
                            Carbohydrates: @Model.MacronutrientData.Where(m => m.MealType == MealType.Snack).Sum(m => m.Carbohydrates).ToString("0.##")g,
                            Fat: @Model.MacronutrientData.Where(m => m.MealType == MealType.Snack).Sum(m => m.Fat).ToString("0.##")g,
                            Protein: @Model.MacronutrientData.Where(m => m.MealType == MealType.Snack).Sum(m => m.Protein).ToString("0.##")g
                        </p>
                    </div>

                    <a class="btn btn-secondary dynamic-btn themed-btn" asp-page="/Log/Index" asp-route-MealType="snack" asp-route-Date="@Model.LogDateTime" style="width: 50px;height: 40px;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                            <path xmlns="http://www.w3.org/2000/svg" d="M240 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H176V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H240V80z" />
                        </svg>
                    </a>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.MacronutrientData.Where(m => m.MealType == MealType.Snack))
            {
                <tr>
                    <td>
                        <div class="row justify-content-between" style="padding: 0px 14px;">
                            <div class="col-auto">
                                <p class="truncate" style="margin-bottom: 0px;width:320px">@item.FoodName</p>
                                <span style="opacity:0.6">@item.Amount.ToString("0.##") @item.AmountSymbol</span>
                            </div>
                            <div class="col d-flex flex-row-reverse nutrition-box-row">
                                <div class="col nutrition-box-col">
                                    <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Edit" asp-route-id="@item.Id" style="width: 50px;height: 40px;margin-bottom: 11px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                            <path xmlns="http://www.w3.org/2000/svg" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z" />
                                        </svg>
                                    </a>
                                    <a class="btn btn-secondary dynamic-btn themed-btn" role="button" asp-page="./Delete" asp-route-id="@item.Id" style="width: 50px;height: 40px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                            <!--! Font Awesome Free 6.1.1  - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                            <path xmlns="http://www.w3.org/2000/svg" d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
                                        </svg>
                                    </a>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Protein.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Protein
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Fat.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Fat
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Carbohydrates.ToString("0.##")
                                        g
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Carbs
                                    </p>
                                </div>
                                <div class="d-flex align-items-start flex-column nutrition-box">
                                    <p class="text-center nutrition-box-text">
                                        @item.Calories.ToString("0.#")
                                        kcal
                                    </p>
                                    <p class="text-center nutrition-box-text-heading">
                                        Calories
                                    </p>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
</table>
</div>